From my perspective, it's crucial to give grades only by the performance, because this encourages students to exert their efforts wisely, i.e. to finish the task better within a limited time and energy.

First and foremost, we have to face the truth that paying efforts itself doesn't necessarily lead to a desirable result. If one strives to accomplish tasks irrelevant to the assignment, those efforts may be largely wasted. A student, who are working in the field of math for instance, is hardly to gain any useful knowledge if he keep doing survey on art or literature since what he needs is to understand relative formulas rather than to read some editorials or aesthetic comments. Nevertheless, by evaluating students based on solely the final performance, the situation where students consume tremendous energy and time can be largely prevented.